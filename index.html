<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>Exercise</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: #f2f2f2;
            padding: 30px;
        }

        .box {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 0 10px #ccc;
        }

        textarea {
            height: 120px;
        }
    </style>
</head>

<body>

    <div class="container box">

        <div class="row g-3">

            <div class="col-sm-6 col-md-4">
                <label class="form-label">מספר ראשון</label>
                <input id="num1" type="number" class="form-control">
            </div>

            <div class="col-sm-6 col-md-4">
                <label class="form-label">מספר שני</label>
                <input id="num2" type="number" class="form-control">
            </div>

            <div class="col-sm-12 col-md-4">
                <label class="form-label">בחר פעולה</label>
                <select id="action" class="form-select">
                    <option value="add">חיבור</option>
                    <option value="sub">חיסור</option>
                    <option value="mul">כפל</option>
                    <option value="div">חילוק</option>
                </select>
            </div>

        </div>

        <hr>

        <div class="row">
            <div class="col-12">
                <button class="btn btn-primary w-100 mb-3" onclick="calculate()">בצע פעולה</button>
                <input id="result" type="text" class="form-control" placeholder="תוצאה תוצג כאן" readonly>
            </div>
        </div>

        <hr>

        <div class="row">
            <div class="col-12">
                <label class="form-label mt-2">לוגים</label>
                <textarea id="logs" class="form-control" readonly></textarea>
            </div>
        </div>

    </div>

    <script>
        function calculate() {

            let n1 = document.getElementById("num1");
            let n2 = document.getElementById("num2");
            let action = document.getElementById("action").value;
            let logs = document.getElementById("logs");

            let v1 = parseFloat(n1.value);
            let v2 = parseFloat(n2.value);

            validateInput(n1);
            validateInput(n2);

            if (isNaN(v1) || isNaN(v2)) {
                appendLog("שגיאה: חובה להכניס מספרים!");
                return;
            }

            let output = 0;

            switch (action) {
                case "add": output = v1 + v2; break;
                case "sub": output = v1 - v2; break;
                case "mul": output = v1 * v2; break;
                case "div":
                    if (v2 === 0) {
                        appendLog("שגיאה: אי אפשר לחלק ב-0");
                        return;
                    }
                    output = v1 / v2;
                    break;
            }

            document.getElementById("result").value = output;

            appendLog(`${v1} , ${v2} | הפעולה: ${translate(action)} = ${output}`);
        }

        function appendLog(text) {
            let logs = document.getElementById("logs");
            logs.value += text + "\n";
        }

        function translate(a) {
            return {
                add: "חיבור",
                sub: "חיסור",
                mul: "כפל",
                div: "חילוק"
            }[a];
        }

        function validateInput(input) {
            if (input.value.trim() === "") {
                input.classList.remove("is-valid");
                input.classList.add("is-invalid");
            } else {
                input.classList.remove("is-invalid");
                input.classList.add("is-valid");
            }
        }
    </script>

</body>

</html>
